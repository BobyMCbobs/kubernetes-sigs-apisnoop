type AuditLog {
  id: ID! @id
  createdAt: DateTime! @createdAt
  job: String!
  bucket: String!
  version: String!
  jobVersion: String!
  masterOsImage: String!
  infraCommit: String!
  nodeOsImage: String!
  pod: String!
  passed: Boolean!
  result: String!
  timestamp: Int!
  endpoints: [Endpoint!]!
}

type Endpoint {
  id: ID! @id
  createdAt: DateTime! @createdAt
  auditLog: AuditLog!
  operationID: String!
  level: String!
  category: String!
  kind: String
  group: String
  description: String
  version: String
  path: String
  hits: Int!
  testHits: Int!
  conformanceHits: Int!
  isDeprecated: Boolean!
}

type Test {
  id: ID! @id
  createdAt: DateTime! @createdAt
  auditLog: AuditLog!
  endpoints: [Endpoint!]!
}

type ResponseStatus {
  id: ID! @id
  createdAt: DateTime! @createdAt
  metadata: Json
  status: String
  reason: String
  code: Int
  event: Event!
}

type UserInfo {
  id: ID! @id
  createdAt: DateTime! @createdAt
  username: String!
  groups: [String!]! @scalarList(strategy: RELATION)
  event: Event!
}

type ObjectReference{
  id: ID! @id
  createdAt: DateTime! @createdAt
  resource: String
  namespace: String
  name: String
  uid: ID @unique
  apiGroup: String
  apiVersion: String
  resourceVersion: String
  subresource: String
  event: Event!
}

type Event {
  id: ID! @id
  createdAt: DateTime! @createdAt
  kind: String
  level: String!
  auditID: ID @unique
  stage: String!
  requestURI: String!
  verb: String!
  user: UserInfo! @relation(link: INLINE)
  sourceIPs: [String!] @scalarList(strategy: RELATION)
  userAgent: String 
  responseStatus: ResponseStatus @relation(link: INLINE)
  requestObject: ObjectReference @relation(link: INLINE)
  requestReceivedTimestamp: String
  stageTimestamp: String
  annotations: Json
}